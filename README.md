# react-api-cicd

ğŸ“¦ **React + API Server í”„ë¡œì íŠ¸ ê°œë°œê³¼ ë°°í¬ (CI/CD)**

<br />

## ë¡œì»¬ ê°œë°œì„œë²„

- **Frontend**: http://localhost:3000/
- **Backend**: http://localhost:4000/
- **API Docs**: http://localhost:4000/api-docs/

### ì‹¤í–‰ ë°©ë²•

1. **Frontend**:

   ```bash
   cd frontend
   yarn install
   yarn dev
   ```

2. **Backend**:

   ```bash
   cd backend
   yarn install
   yarn dev
   ```

<br />

## ë°°í¬ í”„ë¡œì„¸ìŠ¤

- <details>
     <summary>EC2 ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±</summary>

  ### EC2 ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±

  > EC2 (Elastic Compute Cloud)
  > <br />
  > AWSì˜ ê°€ìƒ ì„œë²„ ì„œë¹„ìŠ¤ë¡œ, ìœ ì—°í•œ í´ë¼ìš°ë“œ ì»´í“¨íŒ… í™˜ê²½ì„ ì œê³µ

  #### 1. EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ê³¼ì •

  1.  AWS ë¡œê·¸ì¸
      - [AWS](https://aws.amazon.com/ko)ì— ë¡œê·¸ì¸í•œë‹¤.
  2.  EC2 ê²€ìƒ‰ ë° ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
      - AWS ì½˜ì†”ì—ì„œ `EC2` ê²€ìƒ‰ -> **Launch Instance** í´ë¦­
  3.  ì¸ìŠ¤í„´ìŠ¤ ì´ë¯¸ì§€ ì„ íƒ (AMI)
      - **Amazon Linux 2 AMI (HVM), 64-bit (x86)** ì„ íƒ
      - 2023ë…„ 3ì›” 15ì¼ ì¶œì‹œëœ Amazon Linux 2023 (AL2023) AMIê°€ ê¸°ë³¸ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆì„ ìˆ˜ ìˆë‹¤.
      - âš ï¸ AL2023 ë³€ê²½ì :
        - HTTPS ì„¤ì • ì¶”ê°€
        - `amazon-linux-extras` ëª…ë ¹ì´ ì œê±°ë¨
        - ìƒˆë¡œìš´ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € **dnf** ì‚¬ìš©
  4.  ì¸ìŠ¤í„´ìŠ¤ íƒ€ì… ì„ íƒ
      - **t2.micro**: CPU 1ê°œ, RAM 1G ì‚¬ì–‘
        - ìµœì´ˆ 1ë…„ê°„ ë§¤ë‹¬ 750ì‹œê°„ **ë¬´ë£Œë¡œ ì‚¬ìš© ê°€ëŠ¥**í•˜ë‹¤.
        - 1ë…„ ë˜ëŠ” 3ë…„ì˜ ì•½ì •ì¸ ì˜ˆì•½ ì¸ìŠ¤í„´ìŠ¤(Reserved Instance)ë¥¼ ì§€ì •í•  ê²½ìš° ë¹„ìš©ì€ ì ˆë°˜ ì •ë„ë¡œ ì¤„ì¼ ìˆ˜ ìˆë‹¤.
  5.  ìŠ¤í† ë¦¬ì§€ ì¶”ê°€ (Add Storage)
      - ê¸°ë³¸ê°’ì„ **30GB**ë¡œ ìˆ˜ì • (30GBê¹Œì§€ ë¬´ë£Œ ì œê³µ)
  6.  ë³´ì•ˆ ê·¸ë£¹ ì„¤ì • (Configure Security Group)
      - **Security Group Name**: ì˜ë¯¸ ìˆëŠ” ì´ë¦„ìœ¼ë¡œ ë³€ê²½
      - **Add Rule** ë²„íŠ¼ìœ¼ë¡œ 80, 443 í¬íŠ¸ ì¶”ê°€ (HTTP, HTTPS íŠ¸ë˜í”½ í—ˆìš©)
      - **Review and Launch** í´ë¦­ìœ¼ë¡œ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë™
  7.  í‚¤ í˜ì–´ ìƒì„± (Key Pair)
      - Key Pair ìƒì„± í›„, ê°œì¸ í‚¤ íŒŒì¼(Private Key)ì„ ë‹¤ìš´ë¡œë“œ
      - âš ï¸ Key Pair ì£¼ì˜ì‚¬í•­:
        - í‚¤ íŒŒì¼ì€ í•œ ë²ˆë§Œ ë‹¤ìš´ë¡œë“œ ê°€ëŠ¥í•˜ë¯€ë¡œ ì•ˆì „í•œ ìœ„ì¹˜ì— ë°±ì—…í•´ì•¼ í•œë‹¤.
        - í‚¤ íŒŒì¼ì„ ë¶„ì‹¤í•˜ë©´ ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ì—†ìŒ
      - Launch Instances í´ë¦­ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±

  ### 2. ì¸ìŠ¤í„´ìŠ¤ ì„¸ë¶€ ì •ë³´ í™•ì¸

  ë§Œë“¤ì–´ì§„ ì¸ìŠ¤í„´ìŠ¤ ì•„ì´ë”” ë§í¬ë¥¼ í´ë¦­í•˜ë©´ í•˜ë‹¨ì— Public IPë¥¼ ë³µì‚¬í•  ìˆ˜ ìˆë‹¤.

  > **172ë¡œ ì‹œì‘í•˜ëŠ” IP**ëŠ” ë‚´ë¶€ IPë¡œ, ì™¸ë¶€ ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•˜ë©° ë™ì¼ ë„¤íŠ¸ì›Œí¬ ë‚´ì˜ ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤.

  ### 3. SSH ì ‘ì†

  ë‹¤ìš´ë¡œë“œ ë°›ì€ keyëŠ” ì‚¬ìš©ì í™ˆ ë””ë ‰í† ë¦¬ì— keys í´ë”ë¥¼ ë§Œë“¤ì–´ ì´ë™í•˜ê³  ê¶Œí•œì„ 400ìœ¼ë¡œ
  ìˆ˜ì •í•œë‹¤.

  ```bash
  mkdir ~/keys
  mv ~/Downloads/react-api-server.pem ~/keys
  chmod 400 ~/keys/react-api-server.pem
  ```

  ì•„ë˜ ëª…ë ¹ì–´ë¡œ EC2 ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ê·¼

  ```bash
  ssh -i ~/keys/react-api-server.pem ec2-user@{PublicIP}
  ```

  </details>

- <details>
     <summary>git, node.js ì„¤ì¹˜</summary>

  ### git, node.js ì„¤ì¹˜

  ...

  </details>

- <details>
     <summary>nginx ì„¤ì¹˜ì™€ node.js ì—°ê²°</summary>

  ### nginx ì„¤ì¹˜ì™€ node.js ì—°ê²°

  ...

  </details>

- <details>
     <summary>í”„ë¡œì íŠ¸ ë¹Œë“œì™€ ì‹¤í–‰</summary>

  ### í”„ë¡œì íŠ¸ ë¹Œë“œì™€ ì‹¤í–‰

  ...

  </details>
